<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B.Tech CGPA/SGPA/PERCENTAGE Calculator</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        body {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            position: relative;
            overflow-x: hidden;
        }

        /* Animated Background Elements */
        .bg-bubbles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }

        .bg-bubbles li {
            position: absolute;
            list-style: none;
            display: block;
            width: 40px;
            height: 40px;
            background-color: rgba(255, 255, 255, 0.15);
            bottom: -160px;
            border-radius: 50%;
            animation: square 25s infinite;
            transition-timing-function: linear;
        }

        .bg-bubbles li:nth-child(1) {
            left: 10%;
            animation-delay: 0s;
            width: 80px;
            height: 80px;
        }

        .bg-bubbles li:nth-child(2) {
            left: 20%;
            animation-delay: 2s;
            animation-duration: 17s;
            width: 60px;
            height: 60px;
        }

        .bg-bubbles li:nth-child(3) {
            left: 25%;
            animation-delay: 4s;
            width: 100px;
            height: 100px;
        }

        .bg-bubbles li:nth-child(4) {
            left: 40%;
            animation-delay: 0s;
            animation-duration: 22s;
            width: 120px;
            height: 120px;
        }

        .bg-bubbles li:nth-child(5) {
            left: 70%;
            width: 70px;
            height: 70px;
        }

        .bg-bubbles li:nth-child(6) {
            left: 80%;
            animation-delay: 3s;
            width: 90px;
            height: 90px;
        }

        .bg-bubbles li:nth-child(7) {
            left: 32%;
            animation-delay: 6s;
            width: 110px;
            height: 110px;
        }

        .bg-bubbles li:nth-child(8) {
            left: 55%;
            animation-delay: 8s;
            animation-duration: 18s;
            width: 50px;
            height: 50px;
        }

        .bg-bubbles li:nth-child(9) {
            left: 25%;
            animation-delay: 2s;
            animation-duration: 20s;
            width: 30px;
            height: 30px;
        }

        .bg-bubbles li:nth-child(10) {
            left: 90%;
            animation-delay: 4s;
            width: 80px;
            height: 80px;
        }

        @keyframes square {
            0% {
                transform: translateY(0) rotate(0deg);
                opacity: 1;
                border-radius: 50%;
            }
            100% {
                transform: translateY(-1000px) rotate(720deg);
                opacity: 0;
                border-radius: 20%;
            }
        }

        .container {
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.25);
            width: 90%;
            max-width: 1000px;
            overflow: hidden;
            animation: fadeIn 0.7s ease-out;
            backdrop-filter: blur(5px);
            position: relative;
            z-index: 1;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .header {
            background: linear-gradient(to right, #6a11cb, #2575fc);
            color: white;
            padding: 30px 25px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            transform: rotate(30deg);
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
            position: relative;
        }

        .header p {
            opacity: 0.9;
            font-size: 1.1rem;
            position: relative;
        }

        .tabs {
            display: flex;
            background: linear-gradient(to right, #5c0bc0, #1f63df);
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }

        .tab {
            padding: 18px 20px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
            text-align: center;
            flex: 1;
            color: rgba(255, 255, 255, 0.8);
            position: relative;
            overflow: hidden;
        }

        .tab::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            width: 0;
            height: 4px;
            background: #ffcc00;
            transition: all 0.3s;
            transform: translateX(-50%);
            border-radius: 4px 4px 0 0;
        }

        .tab:hover {
            color: white;
            background: rgba(255, 255, 255, 0.1);
        }

        .tab.active {
            color: white;
            font-weight: 600;
        }

        .tab.active::before {
            width: 80%;
        }

        .content {
            padding: 30px;
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.5s;
        }

        .tab-content.active {
            display: block;
        }

        .instructions {
            background: linear-gradient(to right, #e8f4fd, #d9ebff);
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 30px;
            color: #2c6aa1;
            transition: all 0.4s ease;
            border-left: 5px solid #2575fc;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }

        .instructions.collapsed {
            margin-bottom: 20px;
            cursor: pointer;
        }

        .instructions.collapsed .content {
            display: none;
        }

        .instructions h3 {
            margin-bottom: 12px;
            color: #1a5c9e;
            display: flex;
            align-items: center;
            justify-content: space-between;
            font-size: 1.2rem;
            cursor: pointer;
        }

        .instructions ul {
            padding-left: 20px;
        }

        .instructions li {
            margin-bottom: 10px;
            line-height: 1.5;
        }

        .semester-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        .semester-card {
            background: linear-gradient(145deg, #f8f9fa, #e9ecef);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
            border: 2px solid #e9ecef;
            position: relative;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }

        .semester-card::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(to right, #6a11cb, #2575fc);
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }

        .semester-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 25px rgba(0, 0, 0, 0.1);
        }

        .semester-card:hover::after {
            transform: scaleX(1);
        }

        .semester-card.active {
            background: linear-gradient(145deg, #e8f4fd, #d4e6ff);
            border-color: #2575fc;
        }

        .semester-card h3 {
            color: #495057;
            margin-bottom: 15px;
            font-size: 1.1rem;
            font-weight: 600;
        }

        .semester-card input {
            width: 100%;
            padding: 12px;
            border: 2px solid #dee2e6;
            border-radius: 10px;
            text-align: center;
            font-size: 1.2rem;
            font-weight: 600;
            color: #495057;
            transition: all 0.3s;
            background: white;
        }

        .semester-card input:focus {
            border-color: #2575fc;
            outline: none;
            box-shadow: 0 0 0 4px rgba(37, 117, 252, 0.2);
            transform: scale(1.03);
        }

        .semester-card input.invalid {
            border-color: #dc3545;
            animation: shake 0.5s;
        }

        .converter {
            background: linear-gradient(145deg, #f8f9fa, #e9ecef);
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }

        .converter h3 {
            margin-bottom: 20px;
            color: #495057;
            text-align: center;
            font-size: 1.3rem;
        }

        .converter-grid {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 20px;
            align-items: center;
        }

        .converter-input {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .converter-input label {
            font-weight: 600;
            color: #495057;
            font-size: 1.1rem;
        }

        .converter-input input {
            padding: 15px;
            border: 2px solid #dee2e6;
            border-radius: 12px;
            text-align: center;
            font-size: 1.2rem;
            font-weight: 600;
            transition: all 0.3s;
            background: white;
        }

        .converter-input input:focus {
            border-color: #2575fc;
            outline: none;
            box-shadow: 0 0 0 4px rgba(37, 117, 252, 0.2);
        }

        .converter-arrow {
            font-size: 28px;
            color: #6c757d;
            text-align: center;
            animation: pulse 2s infinite;
        }

        /* SGPA Calculator Styles */
        .sgpa-calculator {
            background: linear-gradient(145deg, #f8f9fa, #e9ecef);
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }

        .sgpa-calculator h3 {
            margin-bottom: 20px;
            color: #495057;
            text-align: center;
            font-size: 1.3rem;
        }

        .subject-controls {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .subject-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }

        .subject-table th, .subject-table td {
            padding: 12px 15px;
            text-align: center;
            border-bottom: 1px solid #dee2e6;
        }

        .subject-table th {
            background-color: #e9ecef;
            font-weight: 600;
            color: #495057;
        }

        .subject-table input, .subject-table select {
            width: 100%;
            padding: 10px;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            text-align: center;
            font-size: 1rem;
            transition: all 0.3s;
            background: white;
        }

        .subject-table input:focus, .subject-table select:focus {
            border-color: #2575fc;
            outline: none;
            box-shadow: 0 0 0 3px rgba(37, 117, 252, 0.2);
        }

        .remove-subject {
            background: #dc3545;
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .remove-subject:hover {
            background: #c82333;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        .buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
        }

        button {
            background: linear-gradient(to right, #6a11cb, #2575fc);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 12px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 600;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
            position: relative;
            overflow: hidden;
        }

        button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: 0.5s;
            z-index: 1;
        }

        button:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.25);
        }

        button:hover::before {
            left: 100%;
        }

        button:active {
            transform: translateY(0);
        }

        button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .reset-btn {
            background: linear-gradient(to right, #dc3545, #e85d6f);
        }

        .add-subject-btn {
            background: linear-gradient(to right, #28a745, #20c997);
        }

        .result {
            text-align: center;
            padding: 30px;
            background: linear-gradient(145deg, #f8f9fa, #e9ecef);
            border-radius: 15px;
            display: none;
            animation: slideIn 0.7s ease-out;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
            position: relative;
            overflow: hidden;
        }

        .result::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(to right, #6a11cb, #2575fc);
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .result h2 {
            color: #495057;
            margin-bottom: 20px;
            font-size: 1.8rem;
        }

        .cgpa-value {
            font-size: 4rem;
            font-weight: 800;
            color: #2575fc;
            margin-bottom: 15px;
            transition: all 0.5s ease;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .percentage-value {
            font-size: 2.2rem;
            font-weight: 700;
            color: #28a745;
            margin-bottom: 20px;
        }

        .completed-semesters {
            color: #6c757d;
            font-size: 1.2rem;
            margin-bottom: 15px;
        }

        .performance-message {
            margin-top: 15px;
            font-weight: 600;
            padding: 12px 20px;
            border-radius: 8px;
            display: inline-block;
            font-size: 1.1rem;
        }

        .performance-excellent {
            background: linear-gradient(to right, #d4edda, #c3e6cb);
            color: #155724;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
        }

        .performance-good {
            background: linear-gradient(to right, #d1ecf1, #bee5eb);
            color: #0c5460;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
        }

        .performance-average {
            background: linear-gradient(to right, #fff3cd, #ffeaa7);
            color: #856404;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
        }

        .performance-poor {
            background: linear-gradient(to right, #f8d7da, #f5c6cb);
            color: #721c24;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
        }

        footer {
            text-align: center;
            padding: 25px;
            color: #6c757d;
            font-size: 1rem;
            border-top: 1px solid #e9ecef;
            display: flex;
            flex-direction: column;
            gap: 8px;
            background: rgba(255, 255, 255, 0.7);
        }

        .toast {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: linear-gradient(to right, #6a11cb, #2575fc);
            color: white;
            padding: 18px 25px;
            border-radius: 12px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.4s, transform 0.4s;
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 12px;
            font-weight: 500;
        }

        .toast.show {
            opacity: 1;
            transform: translateY(0);
        }

        @media (max-width: 900px) {
            .semester-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .converter-grid {
                grid-template-columns: 1fr;
                gap: 25px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
        }

        @media (max-width: 600px) {
            .semester-grid {
                grid-template-columns: 1fr;
            }
            
            .buttons {
                flex-direction: column;
            }
            
            .header h1 {
                font-size: 1.8rem;
            }
            
            .header p {
                font-size: 1rem;
            }
            
            .tab {
                padding: 15px 10px;
                font-size: 0.9rem;
            }
            
            .content {
                padding: 20px;
            }
            
            .cgpa-value {
                font-size: 3.2rem;
            }
            
            .percentage-value {
                font-size: 1.8rem;
            }
            
            .subject-table th, .subject-table td {
                padding: 8px 10px;
            }
            
            .subject-table input, .subject-table select {
                padding: 8px;
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <!-- Animated background elements -->
    <ul class="bg-bubbles">
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
    </ul>

    <div class="container">
        <div class="header">
            <h1><i class="fas fa-calculator"></i> B.Tech CGPA/SGPA/PERCENTAGE Calculator</h1>
            <p>Calculate your Cumulative Grade Point Average (CGPA) for 8 semesters And 
            Semester Grade Point Average (SGPA) for individual semesters, and convert between SGPA/CGPA and Percentage easily.
            </p>
        </div>
        
        <div class="tabs">
            <div class="tab active" data-tab="cgpa-calculator">CGPA Calculator</div>
            <div class="tab" data-tab="sgpa-calculator">SGPA Calculator</div>
            <div class="tab" data-tab="converter">SGPA/CGPA Converter</div>
        </div>
        
        <div class="content">
            <!-- CGPA Calculator Tab -->
            <div class="tab-content active" id="cgpa-calculator">
                <div class="instructions" id="instructions">
                    <h3>
                        <span><i class="fas fa-info-circle"></i> How to use this calculator</span>
                        <i class="fas fa-chevron-down toggle-icon"></i>
                    </h3>
                    <div class="content">
                        <ul>
                            <li>Enter your SGPA for completed semesters (on a scale of 0 to 10)</li>
                            <li>Leave the field blank or enter 0 for ongoing or upcoming semesters</li>
                            <li>Click "Calculate CGPA" to see your cumulative GPA</li>
                            <li>Use "Reset" to clear all fields and start over</li>
                        </ul>
                    </div>
                </div>
                
                <div class="semester-grid" id="semesterGrid">
                    <!-- Semester inputs will be generated by JavaScript -->
                </div>
                
                <div class="buttons">
                    <button id="calculateBtn">
                        <i class="fas fa-calculator"></i> Calculate CGPA
                    </button>
                    <button id="resetBtn" class="reset-btn">
                        <i class="fas fa-redo"></i> Reset
                    </button>
                </div>
                
                <div class="result" id="result">
                    <h2>Your CGPA is:</h2>
                    <div class="cgpa-value" id="cgpaValue">0.00</div>
                    <div class="percentage-value" id="percentageValue">Percentage: 0%</div>
                    <div class="completed-semesters" id="completedSemesters"></div>
                    <div id="performanceMessage"></div>
                </div>
            </div>
            
            <!-- SGPA Calculator Tab -->
            <div class="tab-content" id="sgpa-calculator">
                <div class="instructions" id="sgpaInstructions">
                    <h3>
                        <span><i class="fas fa-info-circle"></i> How to calculate SGPA</span>
                        <i class="fas fa-chevron-down toggle-icon"></i>
                    </h3>
                    <div class="content">
                        <ul>
                            <li>Add subjects using the "Add Subject" button</li>
                            <li>Enter the credit points for each subject</li>
                            <li>Select the grade you obtained from the dropdown</li>
                            <li>SGPA is calculated as: Σ(Credit × Grade Point) / Total Credits</li>
                            <li>Click "Calculate SGPA" to see your semester GPA</li>
                        </ul>
                    </div>
                </div>
                
                <div class="sgpa-calculator">
                    <h3>Semester Grade Point Average Calculator</h3>
                    
                    <div class="subject-controls">
                        <button id="addSubjectBtn" class="add-subject-btn">
                            <i class="fas fa-plus"></i> Add Subject
                        </button>
                    </div>
                    
                    <table class="subject-table" id="subjectTable">
                        <thead>
                            <tr>
                                <th>Subject Name</th>
                                <th>Credits</th>
                                <th>Grade</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody id="subjectTableBody">
                            <!-- Subject rows will be added here -->
                        </tbody>
                    </table>
                    
                    <div class="buttons">
                        <button id="calculateSgpaBtn">
                            <i class="fas fa-calculator"></i> Calculate SGPA
                        </button>
                        <button id="resetSgpaBtn" class="reset-btn">
                            <i class="fas fa-redo"></i> Reset
                        </button>
                    </div>
                    
                    <div class="result" id="sgpaResult">
                        <h2>Your SGPA is:</h2>
                        <div class="cgpa-value" id="sgpaValue">0.00</div>
                        <div class="percentage-value" id="sgpaPercentageValue">Percentage: 0%</div>
                        <div class="completed-semesters" id="totalCredits"></div>
                        <div id="sgpaPerformanceMessage"></div>
                    </div>
                </div>
            </div>
            
            <!-- Converter Tab -->
            <div class="tab-content" id="converter">
                <div class="instructions">
                    <h3>
                        <span><i class="fas fa-exchange-alt"></i> SGPA/CGPA to Percentage Converter</span>
                    </h3>
                    <div class="content">
                        <ul>
                            <li>Enter either SGPA/CGPA or Percentage to convert between them</li>
                            <li>Conversion formula: Percentage = (SGPA/CGPA - 0.5) × 10</li>
                            <li>This formula may vary slightly by university</li>
                        </ul>
                    </div>
                </div>
                
                <div class="converter">
                    <h3>SGPA/CGPA ⇄ Percentage Converter</h3>
                    <div class="converter-grid">
                        <div class="converter-input">
                            <label for="sgpaInput">SGPA/CGPA (0-10)</label>
                            <input type="number" id="sgpaInput" min="0" max="10" step="0.01" placeholder="Enter SGPA/CGPA">
                        </div>
                        
                        <div class="converter-arrow">
                            <i class="fas fa-exchange-alt"></i>
                        </div>
                        
                        <div class="converter-input">
                            <label for="percentageInput">Percentage (%)</label>
                            <input type="number" id="percentageInput" min="0" max="100" step="0.01" placeholder="Enter Percentage">
                        </div>
                    </div>
                </div>
                
                <div class="result" id="converterResult">
                    <h2>Conversion Result:</h2>
                    <div class="cgpa-value" id="convertedCgpa">SGPA/CGPA: 0.00</div>
                    <div class="percentage-value" id="convertedPercentage">Percentage: 0%</div>
                </div>
            </div>
        </div>
        
       <footer>
    <p> B.Tech CGPA/SGPA/PERCENTAGE Calculator | Designed for Engineering Students</p>
    <p>Made with ❤️ by Kavya Vejarla</p>
</footer>
    </div>

    <div class="toast" id="toast"></div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const semesterGrid = document.getElementById('semesterGrid');
            const calculateBtn = document.getElementById('calculateBtn');
            const resetBtn = document.getElementById('resetBtn');
            const resultDiv = document.getElementById('result');
            const cgpaValue = document.getElementById('cgpaValue');
            const percentageValue = document.getElementById('percentageValue');
            const completedSemesters = document.getElementById('completedSemesters');
            const performanceMessage = document.getElementById('performanceMessage');
            const instructions = document.getElementById('instructions');
            const toast = document.getElementById('toast');
            
            // Converter elements
            const sgpaInput = document.getElementById('sgpaInput');
            const percentageInput = document.getElementById('percentageInput');
            const converterResult = document.getElementById('converterResult');
            const convertedCgpa = document.getElementById('convertedCgpa');
            const convertedPercentage = document.getElementById('convertedPercentage');
            
            // SGPA Calculator elements
            const addSubjectBtn = document.getElementById('addSubjectBtn');
            const subjectTableBody = document.getElementById('subjectTableBody');
            const calculateSgpaBtn = document.getElementById('calculateSgpaBtn');
            const resetSgpaBtn = document.getElementById('resetSgpaBtn');
            const sgpaResult = document.getElementById('sgpaResult');
            const sgpaValue = document.getElementById('sgpaValue');
            const sgpaPercentageValue = document.getElementById('sgpaPercentageValue');
            const totalCredits = document.getElementById('totalCredits');
            const sgpaPerformanceMessage = document.getElementById('sgpaPerformanceMessage');
            const sgpaInstructions = document.getElementById('sgpaInstructions');
            
            // Tab elements
            const tabs = document.querySelectorAll('.tab');
            const tabContents = document.querySelectorAll('.tab-content');
            
            let semesterInputs = [];
            let subjectCount = 0;
            
            // Create semester input fields
            for (let i = 1; i <= 8; i++) {
                const semesterCard = document.createElement('div');
                semesterCard.className = 'semester-card';
                semesterCard.id = `semester-card-${i}`;
                
                const heading = document.createElement('h3');
                heading.textContent = `Semester ${i}`;
                
                const input = document.createElement('input');
                input.type = 'number';
                input.min = '0';
                input.max = '10';
                input.step = '0.01';
                input.placeholder = 'SGPA (0-10)';
                input.id = `semester-${i}`;
                input.dataset.semester = i;
                
                semesterCard.appendChild(heading);
                semesterCard.appendChild(input);
                semesterGrid.appendChild(semesterCard);
                
                semesterInputs.push(input);
                
                // Add input event listeners
                input.addEventListener('focus', function() {
                    document.getElementById(`semester-card-${i}`).classList.add('active');
                });
                
                input.addEventListener('blur', function() {
                    document.getElementById(`semester-card-${i}`).classList.remove('active');
                    validateInput(this);
                });
                
                input.addEventListener('input', function() {
                    if (this.value) {
                        validateInput(this);
                    }
                });
            }
            
            // Tab switching functionality
            tabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabId = this.getAttribute('data-tab');
                    
                    // Update active tab
                    tabs.forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Show corresponding content
                    tabContents.forEach(content => {
                        content.classList.remove('active');
                        if (content.id === tabId) {
                            content.classList.add('active');
                        }
                    });
                });
            });
            
            // Toggle instructions
            instructions.addEventListener('click', function() {
                this.classList.toggle('collapsed');
                const icon = this.querySelector('.toggle-icon');
                icon.classList.toggle('fa-chevron-down');
                icon.classList.toggle('fa-chevron-up');
            });
            
            // Toggle SGPA instructions
            sgpaInstructions.addEventListener('click', function() {
                this.classList.toggle('collapsed');
                const icon = this.querySelector('.toggle-icon');
                icon.classList.toggle('fa-chevron-down');
                icon.classList.toggle('fa-chevron-up');
            });
            
            // Validate input
            function validateInput(input) {
                const value = parseFloat(input.value);
                
                if (input.value && (isNaN(value) || value < 0 || value > 10)) {
                    input.classList.add('invalid');
                    showToast('Please enter a valid SGPA between 0 and 10');
                    return false;
                } else {
                    input.classList.remove('invalid');
                    return true;
                }
            }
            
            // Show toast message
            function showToast(message) {
                toast.innerHTML = `<i class="fas fa-info-circle"></i> ${message}`;
                toast.classList.add('show');
                
                setTimeout(() => {
                    toast.classList.remove('show');
                }, 3000);
            }
            
            // Convert SGPA/CGPA to Percentage
            function sgpaToPercentage(sgpa) {
                return (sgpa - 0.5) * 10;
            }
            
            // Convert Percentage to SGPA/CGPA
            function percentageToSgpa(percentage) {
                return (percentage / 10) + 0.5;
            }
            
            // Add subject row
            function addSubjectRow() {
                subjectCount++;
                const row = document.createElement('tr');
                row.id = `subject-${subjectCount}`;
                
                row.innerHTML = `
                    <td>
                        <input type="text" class="subject-name" placeholder="Subject ${subjectCount}">
                    </td>
                    <td>
                        <input type="number" class="subject-credit" min="1" max="10" step="0.5" placeholder="Credits">
                    </td>
                    <td>
                        <select class="subject-grade">
                            <option value="">Select Grade</option>
                            <option value="10">O/S (10)</option>
                            <option value="9">A+/A (9)</option>
                            <option value="8">A/B (8)</option>
                            <option value="7">B+/C (7)</option>
                            <option value="6">B/D (6)</option>
                            <option value="5">C/E (5)</option>
                            <option value="0">F/AB (0)</option>
                        </select>
                    </td>
                    <td>
                        <button class="remove-subject" data-id="${subjectCount}">
                            <i class="fas fa-trash"></i>
                        </button>
                    </td>
                `;
                
                subjectTableBody.appendChild(row);
                
                // Add event listener to remove button
                const removeBtn = row.querySelector('.remove-subject');
                removeBtn.addEventListener('click', function() {
                    const id = this.getAttribute('data-id');
                    const subjectRow = document.getElementById(`subject-${id}`);
                    subjectRow.remove();
                });
            }
            
            // Calculate SGPA
            function calculateSGPA() {
                const rows = subjectTableBody.querySelectorAll('tr');
                let totalCredits = 0;
                let totalGradePoints = 0;
                let hasError = false;
                
                if (rows.length === 0) {
                    showToast('Please add at least one subject');
                    return { sgpa: 0, totalCredits: 0 };
                }
                
                rows.forEach(row => {
                    const creditInput = row.querySelector('.subject-credit');
                    const gradeSelect = row.querySelector('.subject-grade');
                    
                    const credit = parseFloat(creditInput.value);
                    const grade = parseFloat(gradeSelect.value);
                    
                    // Validate inputs
                    if (isNaN(credit) || credit <= 0) {
                        creditInput.classList.add('invalid');
                        hasError = true;
                    } else {
                        creditInput.classList.remove('invalid');
                    }
                    
                    if (isNaN(grade) || grade < 0) {
                        gradeSelect.classList.add('invalid');
                        hasError = true;
                    } else {
                        gradeSelect.classList.remove('invalid');
                    }
                    
                    if (!hasError) {
                        totalCredits += credit;
                        totalGradePoints += credit * grade;
                    }
                });
                
                if (hasError) {
                    showToast('Please check all subject inputs');
                    return { sgpa: 0, totalCredits: 0 };
                }
                
                const sgpa = totalGradePoints / totalCredits;
                return { sgpa: sgpa, totalCredits: totalCredits };
            }
            
            // SGPA input event listener
            sgpaInput.addEventListener('input', function() {
                if (this.value) {
                    const sgpa = parseFloat(this.value);
                    if (!isNaN(sgpa) && sgpa >= 0 && sgpa <= 10) {
                        const percentage = sgpaToPercentage(sgpa);
                        percentageInput.value = percentage.toFixed(2);
                        
                        // Show result
                        convertedCgpa.textContent = `SGPA/CGPA: ${sgpa.toFixed(2)}`;
                        convertedPercentage.textContent = `Percentage: ${percentage.toFixed(2)}%`;
                        converterResult.style.display = 'block';
                    }
                } else {
                    percentageInput.value = '';
                    converterResult.style.display = 'none';
                }
            });
            
            // Percentage input event listener
            percentageInput.addEventListener('input', function() {
                if (this.value) {
                    const percentage = parseFloat(this.value);
                    if (!isNaN(percentage) && percentage >= 0 && percentage <= 100) {
                        const sgpa = percentageToSgpa(percentage);
                        sgpaInput.value = sgpa.toFixed(2);
                        
                        // Show result
                        convertedCgpa.textContent = `SGPA/CGPA: ${sgpa.toFixed(2)}`;
                        convertedPercentage.textContent = `Percentage: ${percentage.toFixed(2)}%`;
                        converterResult.style.display = 'block';
                    }
                } else {
                    sgpaInput.value = '';
                    converterResult.style.display = 'none';
                }
            });
            
            // Add subject button event listener
            addSubjectBtn.addEventListener('click', function() {
                addSubjectRow();
            });
            
            // Calculate SGPA button event listener
            calculateSgpaBtn.addEventListener('click', function() {
                const { sgpa, totalCredits: credits } = calculateSGPA();
                
                if (credits > 0) {
                    const roundedSgpa = parseFloat(sgpa.toFixed(2));
                    const percentage = sgpaToPercentage(roundedSgpa);
                    
                    // Animate the SGPA value
                    animateValue(sgpaValue, 0, roundedSgpa, 1000);
                    
                    // Update percentage value
                    setTimeout(() => {
                        sgpaPercentageValue.textContent = `Percentage: ${percentage.toFixed(2)}%`;
                    }, 1000);
                    
                    totalCredits.textContent = `Total Credits: ${credits}`;
                    
                    // Add performance message
                    let performanceText = '';
                    let performanceClass = '';
                    
                    if (roundedSgpa >= 9.0) {
                        performanceText = 'Excellent Performance!';
                        performanceClass = 'performance-excellent';
                    } else if (roundedSgpa >= 8.0) {
                        performanceText = 'Very Good Performance!';
                        performanceClass = 'performance-good';
                    } else if (roundedSgpa >= 7.0) {
                        performanceText = 'Good Performance';
                        performanceClass = 'performance-average';
                    } else if (roundedSgpa >= 6.0) {
                        performanceText = 'Average Performance';
                        performanceClass = 'performance-average';
                    } else {
                        performanceText = 'Needs Improvement';
                        performanceClass = 'performance-poor';
                    }
                    
                    sgpaPerformanceMessage.textContent = performanceText;
                    sgpaPerformanceMessage.className = 'performance-message ' + performanceClass;
                    
                    sgpaResult.style.display = 'block';
                    
                    // Smooth scroll to result
                    sgpaResult.scrollIntoView({ behavior: 'smooth' });
                }
            });
            
            // Reset SGPA calculator
            resetSgpaBtn.addEventListener('click', function() {
                subjectTableBody.innerHTML = '';
                sgpaResult.style.display = 'none';
                subjectCount = 0;
                showToast('SGPA calculator has been reset');
            });
            
            // Calculate CGPA
            calculateBtn.addEventListener('click', function() {
                const sgpas = [];
                let completedCount = 0;
                let hasError = false;
                
                // Validate all inputs first
                semesterInputs.forEach(input => {
                    if (input.value && !validateInput(input)) {
                        hasError = true;
                        // Scroll to the invalid input
                        input.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    }
                });
                
                if (hasError) return;
                
                // Collect valid SGPA values
                semesterInputs.forEach(input => {
                    const value = parseFloat(input.value);
                    
                    if (!isNaN(value) && value > 0) {
                        sgpas.push(value);
                        completedCount++;
                    }
                });
                
                if (sgpas.length === 0) {
                    cgpaValue.textContent = '0.00';
                    percentageValue.textContent = 'Percentage: 0%';
                    completedSemesters.textContent = 'No completed semesters entered';
                    performanceMessage.textContent = '';
                    performanceMessage.className = '';
                } else {
                    const cgpa = sgpas.reduce((sum, sgpa) => sum + sgpa, 0) / sgpas.length;
                    const roundedCgpa = parseFloat(cgpa.toFixed(2));
                    const percentage = sgpaToPercentage(roundedCgpa);
                    
                    // Animate the CGPA value
                    animateValue(cgpaValue, 0, roundedCgpa, 1000);
                    
                    // Update percentage value
                    setTimeout(() => {
                        percentageValue.textContent = `Percentage: ${percentage.toFixed(2)}%`;
                    }, 1000);
                    
                    completedSemesters.textContent = `Based on ${completedCount} completed semester${completedCount !== 1 ? 's' : ''}`;
                    
                    // Add performance message
                    let performanceText = '';
                    let performanceClass = '';
                    
                    if (roundedCgpa >= 9.0) {
                        performanceText = 'Excellent Performance!';
                        performanceClass = 'performance-excellent';
                    } else if (roundedCgpa >= 8.0) {
                        performanceText = 'Very Good Performance!';
                        performanceClass = 'performance-good';
                    } else if (roundedCgpa >= 7.0) {
                        performanceText = 'Good Performance';
                        performanceClass = 'performance-average';
                    } else if (roundedCgpa >= 6.0) {
                        performanceText = 'Average Performance';
                        performanceClass = 'performance-average';
                    } else {
                        performanceText = 'Needs Improvement';
                        performanceClass = 'performance-poor';
                    }
                    
                    performanceMessage.textContent = performanceText;
                    performanceMessage.className = 'performance-message ' + performanceClass;
                }
                
                resultDiv.style.display = 'block';
                
                // Smooth scroll to result
                resultDiv.scrollIntoView({ behavior: 'smooth' });
            });
            
            // Animate value change
            function animateValue(element, start, end, duration) {
                let startTimestamp = null;
                const step = (timestamp) => {
                    if (!startTimestamp) startTimestamp = timestamp;
                    const progress = Math.min((timestamp - startTimestamp) / duration, 1);
                    const value = progress * (end - start) + start;
                    element.textContent = value.toFixed(2);
                    if (progress < 1) {
                        window.requestAnimationFrame(step);
                    }
                };
                window.requestAnimationFrame(step);
            }
            
            // Reset all inputs
            resetBtn.addEventListener('click', function() {
                semesterInputs.forEach(input => {
                    input.value = '';
                    input.classList.remove('invalid');
                });
                
                sgpaInput.value = '';
                percentageInput.value = '';
                converterResult.style.display = 'none';
                
                resultDiv.style.display = 'none';
                showToast('All fields have been reset');
            });
            
            // Add keyboard shortcuts
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Enter') {
                    // Check which tab is active
                    const activeTab = document.querySelector('.tab.active').getAttribute('data-tab');
                    
                    if (activeTab === 'cgpa-calculator') {
                        calculateBtn.click();
                    } else if (activeTab === 'sgpa-calculator') {
                        calculateSgpaBtn.click();
                    }
                }
                
                if (e.key === 'Escape') {
                    // Check which tab is active
                    const activeTab = document.querySelector('.tab.active').getAttribute('data-tab');
                    
                    if (activeTab === 'cgpa-calculator') {
                        resetBtn.click();
                    } else if (activeTab === 'sgpa-calculator') {
                        resetSgpaBtn.click();
                    }
                }
            });
            
            // Add one subject row by default when SGPA tab is selected
            document.querySelector('.tab[data-tab="sgpa-calculator"]').addEventListener('click', function() {
                if (subjectCount === 0) {
                    addSubjectRow();
                }
            });
        });
    </script>
</body>
</html>